<button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#agregarCanvas"
  aria-controls="agregarCanvas">
  Agregar
</button>

<div class="row">
  <div class="col-xs-12 col-sm-4" *ngFor="let ciud of getCiudades">
    <div class="card mb-3">
      <div class="card-header">
        {{ ciud.data.nombreCiudad }}
      </div>
      <div class="card-body">
        <p class="card-text">Habitantes: {{ ciud.data.habitantes }}</p>
        <button class="btn btn-primary" (click)="obtenerCiudadPorId(ciud.id)" data-bs-toggle="offcanvas"
          data-bs-target="#editarCanvas" aria-controls="editarCanvas">Editar</button>
        <button class="btn btn-primary" (click)="obtenerCiudadPorId(ciud.id)" data-bs-toggle="offcanvas"
          data-bs-target="#eliminarCanvas" aria-controls="editarCanvas">Eliminar</button>
      </div>
    </div>
  </div>
</div>

<!-- OffCanvas Agregar Ciudad -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="agregarCanvas" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasExampleLabel">Agregar Ciudad</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <form>
      <div class="mb-3">
        <label for="inputNombreCiudad" class="form-label">Nombre Ciudad</label>
        <input type="text" class="form-control" id="inputNombreCiudad" name="nombreCiudad" #nombreCiudad="ngModel"
          [(ngModel)]="ciudadesModel.nombreCiudad">
      </div>
      <div class="mb-3">
        <label for="inputHabitantes" class="form-label">Habitantes</label>
        <input type="text" class="form-control" id="inputHabitantes" name="habitantes" #habitantes="ngModel"
          [(ngModel)]="ciudadesModel.habitantes">
      </div>

      <!-- Input File Image -->
      <div class="mb-3">
        <label for="formFile" class="form-label">Subir Imagen Ciudad</label>
        <input class="form-control" type="file" id="formFile" (change)="subirImagenInput($event)">
      </div>
      <div class="progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuemin="0"
          aria-valuemax="100" [style.width.%]="porcentajeArchivo|async|number: '1.2-2'">
          {{porcentajeArchivo|async|number: '1.2-2'}}%
        </div>
      </div>
      <button class="btn btn-primary" (click)="subirImagen()">Guardar Ciudad</button>
    </form>
  </div>
</div>


<!-- OffCanvas Editar Ciudad -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="editarCanvas" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasExampleLabel">Editar Ciudad</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <form>
      <div class="mb-3">
        <label for="inputNombreCiudad" class="form-label">Nombre Ciudad</label>
        <input type="text" class="form-control" id="inputNombreCiudad" name="nombreCiudad" #nombreCiudad="ngModel"
          [(ngModel)]="ciudadId.nombreCiudad">
      </div>
      <div class="mb-3">
        <label for="inputHabitantes" class="form-label">Habitantes</label>
        <input type="text" class="form-control" id="inputHabitantes" name="habitantes" #habitantes="ngModel"
          [(ngModel)]="ciudadId.habitantes">
      </div>

      <button class="btn btn-primary" (click)="editarCiudad(ciudadId.id)" data-bs-dismiss="offcanvas">Editar
        Ciudad</button>
    </form>
  </div>
</div>

<!-- OffCanvas Eliminar Ciudad -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="eliminarCanvas" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasExampleLabel">Eliminar Ciudad</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <p>Â¿Se encuentra seguro de eliminar la Ciudad: {{ ciudadId.nombreCiudad }} ?</p>

    <button class="btn btn-primary" (click)="eliminarCiudad(ciudadId.id)" data-bs-dismiss="offcanvas">Eliminar
      Ciudad</button>

  </div>
</div>
